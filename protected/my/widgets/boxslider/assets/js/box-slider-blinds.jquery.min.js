(function(e,t,i){var n={},r=!0,o={},s={speed:800,timeout:5e3,autoScroll:!1,pauseOnHover:!1,effect:"scrollVert3d",perspective:1e3};e.jqBoxSlider=n,n.init=function(e){var i=t.extend({},s,e),r=n.slideAnimator(i.effect);return this.each(function(){var e=t(this),n=e.children(),o=t.extend({},i);e.data("bssettings",o),o.slideAnimator=r,o.slideAnimator.initialize(e,n,o),a(e,o),o.autoScroll&&(o.autointv=setInterval(function(){u(e)},o.timeout+o.speed),o.pauseOnHover&&e.on("hover",d))})},n.playPause=function(){return this.each(function(){d.call(t(this))})},n.showSlide=function(e){return e=parseInt(e,10),this.each(function(){var i=t(this);f(i),u(i,e)})},n.next=function(){return this.each(function(){var e=t(this);u(e)})},n.prev=function(){return this.each(function(){var e=t(this);u(e,null,!0)})},n.registerAnimator=function(e,i){t.each(e.split(","),function(e,t){o[t]=i}),i._cacheOriginalCSS=h,"function"==typeof i.configure&&i.configure(r,b)},n.slideAnimator=function(e){if("object"==typeof o[e])return o[e];throw Error("The slide animator for the "+e+" effect has not been registered")},n.option=function(e,r){return r===i?(this.data("bssettings")||{})[e]:this.each(function(){var o=t(this),s=o.data("bssettings")||{};return s[e]=r,f(o,s),"effect"===e?(s.slideAnimator.destroy(o,s),s.slideAnimator=n.slideAnimator(r),s._slideFilter=null,s.bsfaceindex=0,s.slideAnimator.initialize(o,o.children(),s),i):("function"==typeof s.slideAnimator.reset&&s.slideAnimator.reset(o,s),i)})},n.destroy=function(){return this.each(function(){var e=t(this),i=e.data()||{},n=i.bssettings;n&&"object"==typeof n.slideAnimator&&(n.autointv&&clearInterval(n.autointv),n.slideAnimator.destroy(e,n))})};var a=function(e,i){var n=t();null!=i.next&&(n=n.add(t(i.next).on("click",{reverse:!1},l))),null!=i.prev&&(n=n.add(t(i.prev).on("click",{reverse:!0},l))),null!=i.pause&&(n=n.add(t(i.pause).on("click",c))),n.data("bsbox",e)},l=function(e){var n=t(this).data("bsbox");f(n),u(n,i,e.data.reverse),e.preventDefault()},c=function(e){var i=t(this),n=i.data("bsbox");d.call(n),i.toggleClass("paused"),e.preventDefault()},d=function(e,i,n){var r,o=t(this);n||(n=o.data("bssettings")),r=null!=n.autointv,"function"==typeof n.onplaypause&&n.onplaypause.call(o,r?"pause":"play"),(!r&&!i||(n.autointv=clearInterval(n.autointv),i))&&(n.autointv=setInterval(function(){u(o)},n.timeout+n.speed))},u=function(e,i,n){var r,o,s,a,l=e.data("bssettings"),c=e.children();null!=l._slideFilter&&(c="function"==typeof l._slideFilter?c.filter(function(e){return l._slideFilter.call(c,e,l)}):c.filter(l.slideFilter)),r=l.bsfaceindex||0,o=p(r,c.length,n,i),e.hasClass("jbs-in-motion")||-1===o||(s=c.eq(r),a=c.eq(o),e.addClass("jbs-in-motion"),"function"==typeof l.onbefore&&l.onbefore.call(e,s,a,r,o),t.extend(l,l.slideAnimator.transition(t.extend({$box:e,$slides:c,$currSlide:s,$nextSlide:a,reverse:n,currIndex:r,nextIndex:o},l))),setTimeout(function(){e.removeClass("jbs-in-motion"),"function"==typeof l.onafter&&l.onafter.call(e,s,a,r,o)},l.speed),l.bsfaceindex=o)},f=function(e,t){t||(t=e.data("bssettings")||{}),t.autoScroll&&d.call(e,i,!0,t)},p=function(e,t,i,n){var r=n;return null==r&&(r=i?0>e-1?t-1:e-1:t>e+1?e+1:0),r===e||r>=t||0>r?-1:r},h=function(e,i,n,r){var o=["position","top","left","display","overflow","width","height"].concat(r||[]);n.origCSS||(n.origCSS={}),n.origCSS[i]||(n.origCSS[i]={}),t.each(o,function(t,r){n.origCSS[i][r]=e.css(r)})},b=function(){var e=document.body.style,t="";return"webkitTransition"in e&&(t="-webkit-"),"MozTransition"in e&&(t="-moz-"),r="webkitPerspective"in e||"MozPerspective"in e||"perspective"in e,t}();t.fn.boxSlider=function(e){return"string"==typeof e&&"function"==typeof n[e]?n[e].apply(this,Array.prototype.slice.call(arguments,1)):n.init.apply(this,arguments)}})(window,jQuery||Zepto),function(e,t){e.jqBoxSlider.registerAnimator("blindDown,blindLeft",function(){var e={};e.initialize=function(e,r,o){var s,a=t(document.createElement("div")),l=n(r.eq(0)),c=0;for(o.blindCount||(o.blindCount=10),o.blindSpeed=o.speed,o.blindintv=o.speed/o.blindCount,o.speed+=o.blindintv*o.blindCount,o.blindSize=e.width()/o.blindCount,this._cacheOriginalCSS(e,"box",o),this._cacheOriginalCSS(r,"slides",o);o.blindCount>c;++c)s=c*o.blindSize,t(document.createElement("div")).css({position:"absolute",top:"0px",left:s+"px",width:o.blindSize+"px",height:"100%",backgroundImage:"url("+l+")",backgroundPosition:-s+"px 0px"}).appendTo(a);e.css("position","relative"),e.css({height:r.css("height"),overflow:"hidden"}),r.css({zIndex:1,position:"absolute",top:0,left:0}),a.css({position:"absolute",top:"0px",left:"0px",width:"100%",height:"100%",zIndex:2}).appendTo(e),o.$blinds=a,o._slideFilter=i},e.transition=function(e){var i=(e.$box.height(),e.$blinds.children());e.$slides.hide(),e.$nextSlide.show(),i.each(function(i,n){(function(){var o=e.blindintv*i,s=t(n);setTimeout(function(){s.animate(r(e),e.blindSpeed)},o)})()}),setTimeout(function(){i.css(o(e))},e.speed)},e.destroy=function(e,t){t.$blinds.remove(),e.css(t.origCSS.box),e.children().css(t.origCSS.slides),t.speed=t.blindSpeed,delete t.blindCount,delete t.blindSpeed,delete t.blindintv,delete t.$blinds,delete t.blindSize};var i=function(e,t){return this.get(e)!==t.$blinds.get(0)},n=function(e){return e.attr("src")||e.find("img").attr("src")},r=function(e){switch(e.effect){case"blindDown":return{top:"100%"};case"blindLeft":return{width:"0px"}}},o=function(e){var t={backgroundImage:"url("+n(e.$nextSlide)+")"};switch(e.effect){case"blindDown":t.top="0px";break;case"blindLeft":t.width=e.blindSize}return t};return e}())}(window,jQuery||Zepto);
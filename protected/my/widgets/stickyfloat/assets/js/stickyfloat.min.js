/**
 * stickyfloat - jQuery plugin for verticaly floating anything in a constrained area
 * @version         Version 7.3
 * @author          Yair Even-Or (vsync)
 * @copyright       Copyright (c) 2012
 * @license         MIT and GPL licenses.
 * @link            http://dropthebit.com
 *
 **/
(function(f){var l=window,k=document,e,i,d,m,h,g,c={duration:200,lockBottom:true,delay:0,easing:"linear",stickToBottom:false,cssTransition:false},a=(function(){var o,p=k.createElement("div"),n=["ms","O","Moz","Webkit"],q="transition";if(p[q]==""){return true}q=q.charAt(0).toUpperCase()+q.slice(1);for(o=n.length;o--;){if(p[n[o]+q]==""){return true}}return false})(),b=function(n,o){this.settings=n;this.obj=f(o)};b.prototype={init:function(){var n=this;this.onScroll=function(){n.rePosition()};f(l).ready(function(){n.rePosition(true);f(l).on("scroll.sticky",n.onScroll)});this.obj.data("_stickyfloat",n)},rePosition:function(t,q){var u=this.obj,p=this.settings,s=t?0:p.duration,o=l.pageYOffset||k.documentElement.scrollTop,n=l.innerHeight||k.documentElement.offsetHeight,r=u[0].clientHeight;u.stop();if(p.lockBottom){e=u[0].parentNode.clientHeight-r-p.offsetBottom}if(e<0){e=0}d=o>p.startOffset;m=u.offset().top>(p.startOffset+p.offsetY);h=r<n;if((d||m&&h)||q){g=p.stickToBottom?o+n-r-p.startOffset-p.offsetY:o-p.startOffset+p.offsetY;if(g>e&&p.lockBottom){g=e}if(g<p.offsetY){g=p.offsetY}else{if(o<p.startOffset&&!p.stickToBottom){g=p.offsetY}}if(s<5||(p.cssTransition&&a)){u[0].style.top=g+"px"}else{u.stop().delay(p.delay).animate({top:g},s,p.easing)}}},update:function(n){if(typeof n==="object"){if(!n.offsetY||n.offsetY=="auto"){n.offsetY=j(this.obj).offsetY}if(!n.startOffset||n.startOffset=="auto"){n.startOffset=j(this.obj).startOffset}this.settings=f.extend({},this.settings,n);this.rePosition(false,true)}return this.obj},destroy:function(){f(window).off("scroll.sticky",this.onScroll);this.obj.removeData();return this.obj}};function j(q){var o=parseInt(q.parent().css("padding-bottom")),n=parseInt(q.parent().css("padding-top")),p=q.parent().offset().top;return{startOffset:p,offsetBottom:o,offsetY:n}}f.fn.stickyfloat=function(o,n){if(typeof o==="object"){n=o}else{if(typeof o==="string"){if(this.data("_stickyfloat")&&typeof this.data("_stickyfloat")[o]=="function"){var p=this.data("_stickyfloat");return p[o](n)}else{return this}}}return this.each(function(){var s=f(this),q=f.extend({},c,j(s),n||{});var r=new b(q,s);r.init()})}})(jQuery);